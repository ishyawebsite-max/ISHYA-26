<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ISHYA '26 | FLAMES IN EVERY FOLD</title>

    <!-- FONTS -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Foldit:wght@600;800;900&family=Syncopate:wght@400;700&family=Space+Grotesk:wght@300;500;700&family=Cormorant+Garamond:ital,wght@1,300;1,600&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
    :root {
        /* PALETTE */
        --bg-dark: #060606;
        --bg-panel: #181C10;
        --accent-gold: #D6C26A;
        --accent-olive: #3D4324;
        --accent-green: #4D8F48;
        
        --text-light: #e0e0e0;
        
        /* FONTS */
        --font-display: 'Syncopate', sans-serif;
        --font-fold: 'Foldit', display;
        --font-body: 'Space Grotesk', sans-serif;
        --font-serif: 'Cormorant Garamond', serif;
        --font-tech: 'Share Tech Mono', monospace;
    }

    /* Origami Font Simulation */
    @font-face {
        font-family: 'Kubos Origami';
        src: url('fonts/kubos-origami.woff2') format('woff2');
        font-display: swap;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; -webkit-font-smoothing: antialiased; }
    
    body { 
        background: var(--bg-dark); 
        color: var(--text-light); 
        font-family: var(--font-body); 
        overflow-x: hidden; 
        width: 100vw; 
    }

    /* --- BACKGROUNDS --- */
    #bg-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; pointer-events: none; }
    
    #hero-bg-image {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background-image: linear-gradient(to bottom, rgba(6,6,6,0.3), var(--bg-dark)), url(https://images.unsplash.com/photo-1518062024220-e2986427a13c?q=80&w=2070&auto=format&fit=crop);
        background-size: cover; background-position: center;
        z-index: 0;
        opacity: 0.4;
    }

    #webgl { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; pointer-events: none; }
    #noise-overlay { position: fixed; inset: 0; z-index: 900; pointer-events: none; opacity: 0.05; background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E"); }

    main { position: relative; z-index: 10; opacity: 0; transition: opacity 0.5s ease; will-change: opacity; }
    section { min-height: 100vh; padding: 0 5vw; position: relative; display: flex; flex-direction: column; justify-content: center; }

    /* --- COMMON BUTTON --- */
    .cta-btn {
        display: inline-block; margin-top: 30px; padding: 15px 40px; background: transparent;
        border: 1px solid var(--accent-gold); color: var(--accent-gold); font-family: var(--font-display);
        font-size: 0.8rem; text-transform: uppercase; letter-spacing: 2px; cursor: pointer;
        transition: all 0.3s ease; text-decoration: none; position: relative; overflow: hidden;
    }
    .cta-btn::before {
        content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%;
        background: var(--accent-olive); z-index: -1; transition: 0.4s;
    }
    .cta-btn:hover::before { left: 0; }
    .cta-btn:hover { color: #fff; border-color: var(--accent-green); }


    /* --- HERO --- */
    #hero { align-items: center; text-align: center; justify-content: flex-start; padding-top: 65vh; padding-bottom: 20vh; }
    .hero-content { pointer-events: none; width: 100%; position: relative; z-index: 20; }
    .hero-title {
        perspective: 1000px; font-family: var(--font-fold); font-size: clamp(2.5rem, 8vw, 7rem); 
        line-height: 0.9; text-transform: uppercase; color: var(--text-light); margin-bottom: 1vh; font-weight: 900;
    }
    .hero-title .letter { display: inline-block; white-space: pre; transform-style: preserve-3d; opacity: 0; color: #fff; text-shadow: 0 0 20px rgba(77, 143, 72, 0.5); }
    
    .hero-date {
        perspective: 1000px; font-family: var(--font-display); font-weight: 700; 
        font-size: clamp(1rem, 3vw, 1.5rem); color: var(--accent-gold); letter-spacing: 3px; text-transform: uppercase;
        margin-top: 2vh; 
    }
    .hero-date .date-char { display: inline-block; transform-style: preserve-3d; opacity: 0; }
    
    /* UPDATED TIMER STYLES */
    .hero-countdown { display: flex; justify-content: center; gap: 15px; margin-top: 30px; font-family: var(--font-tech); color: var(--accent-green); opacity: 0; }
    .time-block { display: flex; flex-direction: column; align-items: center; padding: 10px 10px; background: rgba(6,6,6,0.6); border: 1px solid var(--accent-olive); border-radius: 5px; min-width: 70px; backdrop-filter: blur(5px);}
    .time-block span { font-size: clamp(1.8rem, 5vw, 2.5rem); line-height: 1; text-shadow: 0 0 10px rgba(77, 143, 72, 0.4); }
    .time-block .label { font-size: 0.6rem; letter-spacing: 1px; color: #888; margin-top: 5px; font-family: var(--font-display); text-transform: uppercase; }

    /* --- ABOUT ISHYA --- */
    #about-ishya { align-items: center; padding-top: 10vh; padding-bottom: 10vh; }
    .dialogue-wrapper { width: 100%; max-width: 800px; display: flex; flex-direction: column; gap: 30px; }
    .chat-question {
        align-self: flex-start; background: var(--bg-panel); border: 1px solid var(--accent-olive); color: var(--accent-gold);
        padding: 15px 30px; font-family: var(--font-display); font-size: 1rem; border-radius: 20px 20px 20px 0;
        box-shadow: 0 5px 20px rgba(0,0,0,0.5); opacity: 0; transform: translateY(20px); position: relative;
    }
    .origami-sheet {
        background: #e6e6e6; color: #111; padding: 40px; border-radius: 2px; position: relative;
        transform-origin: top center; box-shadow: 0 20px 50px rgba(0,0,0,0.8); overflow: hidden; backface-visibility: hidden; 
        border: 1px solid #999;
    }
    .origami-sheet::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: url('https://www.transparenttextures.com/patterns/crumpled-paper.png'); opacity: 0.5; pointer-events: none; }
    .sheet-content h3 { font-family: var(--font-display); font-size: 1.8rem; margin-bottom: 20px; color: var(--accent-olive); border-bottom: 2px solid var(--accent-gold); padding-bottom: 10px; display: inline-block; }
    .sheet-content p { font-family: var(--font-body); font-size: 1.1rem; line-height: 1.6; margin-bottom: 15px; font-weight: 500; color: #222; }
    .sheet-content strong { color: var(--accent-green); font-weight: 700; }

    /* --- MEMORIES --- */
    #memories { min-height: 50vh; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 5vh 0; overflow: hidden; }
    .image-marquee-container {
        width: 105vw; padding: 20px 0; overflow: hidden; background: var(--bg-panel);
        margin: 40px 0; position: relative; z-index: 15;
        border-top: 1px solid var(--accent-olive); border-bottom: 1px solid var(--accent-olive);
        transform: rotate(-2deg) scale(1.05) translateX(-2.5vw);
    }
    .image-marquee-track { display: flex; gap: 15px; width: max-content; animation: scrollImages 40s linear infinite; will-change: transform; }
    .image-marquee-item { width: 300px; height: 200px; border-radius: 4px; overflow: hidden; border: 1px solid rgba(255,255,255,0.1); filter: grayscale(100%) sepia(20%); transition: 0.3s; }
    .image-marquee-item:hover { transform: scale(1.02); border-color: var(--accent-green); filter: grayscale(0%); }
    .image-marquee-item img { width: 100%; height: 100%; object-fit: cover; }
    @keyframes scrollImages { 0% { transform: translateX(0); } 100% { transform: translateX(calc(-300px * 5 - 75px)); } }


    /* --- EVENTS (Optimized for Mobile) --- */
    #events { 
        min-height: 100vh; 
        display: flex; flex-direction: column; justify-content: center; align-items: center; 
        overflow: hidden; perspective: 2000px;
    }
    
    .rocket-formation-wrapper {
        display: flex; gap: 30px; justify-content: center; align-items: center;
        width: 100%; max-width: 1200px; margin-top: 40px; perspective: 1500px;
    }

    .rocket-card { position: relative; width: 280px; height: 420px; transform-style: preserve-3d; opacity: 0; }
    .flap {
        position: absolute; top: 0; width: 50%; height: 100%; background: #f4f4f4;
        backface-visibility: hidden; transform-origin: center center;
        transition: none; overflow: hidden; border: 1px solid #ccc;
    }
    .flap.left { left: 0; transform-origin: right center; clip-path: polygon(0 0, 100% 0, 100% 100%, 0 90%); border-radius: 4px 0 0 4px; }
    .flap.right { right: 0; transform-origin: left center; clip-path: polygon(0 0, 100% 0, 100% 90%, 0 100%); border-radius: 0 4px 4px 0;}
    
    .rocket-content {
        position: absolute; inset: 0; display: flex; flex-direction: column;
        background: #ddd; opacity: 0; transform: translateZ(1px);
        overflow: hidden; box-shadow: 0 15px 40px rgba(0,0,0,0.6);
        border-radius: 4px; backface-visibility: hidden;
    }

    .rocket-img { width: 100%; height: 65%; object-fit: cover; filter: grayscale(100%); transition: 0.3s; }
    .rocket-text { padding: 15px; height: 35%; display: flex; flex-direction: column; justify-content: space-between; background: #e0e0e0; }
    .rocket-cat { font-family: var(--font-tech); color: var(--accent-olive); font-size: 0.8rem; background: var(--accent-gold); display: inline-block; padding: 2px 6px; width: max-content; margin-bottom: 5px; font-weight: bold;}
    .rocket-title { font-family: var(--font-display); font-size: 1.4rem; color: #000; font-weight: 800; line-height: 1; }
    .rocket-id { font-family: var(--font-display); font-size: 2.5rem; position: absolute; bottom: 0; right: 5px; color: rgba(0,0,0,0.06); }
    .rocket-content:hover .rocket-img { filter: grayscale(0%); transform: scale(1.05); }

    /* Mobile Stack for Rockets */
    @media (max-width: 900px) {
        .rocket-formation-wrapper { flex-direction: column; gap: 60px; transform: none !important; margin-top: 20px;}
        .rocket-card { width: 85vw; height: 350px; opacity: 1 !important; transform: none !important; }
        .flap { display: none; } /* Remove complex folding on mobile for performance */
        .rocket-content { opacity: 1; transform: none; position: relative; border: 1px solid var(--accent-olive); }
    }


    /* --- AFTERMOVIE --- */
    #aftermovie { align-items: center; text-align: center; padding: 5vh 0; width: 100%; overflow: hidden; }
    .video-frame-wrapper {
        width: 95vw; max-width: 900px; margin-top: 40px; position: relative; background: var(--bg-panel); border: 1px solid var(--accent-olive);
        clip-path: polygon(20px 0, 100% 0, 100% calc(100% - 20px), calc(100% - 20px) 100%, 0 100%, 0 20px);
        box-shadow: 0 0 30px rgba(77, 143, 72, 0.1);
    }
    .video-frame-aspect { position: relative; width: 100%; padding-bottom: 56.25%; background: #000; clip-path: polygon(18px 0, 100% 0, 100% calc(100% - 18px), calc(100% - 18px) 100%, 0 100%, 0 18px); }
    .video-frame-aspect iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }

    /* --- PROSHOWS --- */
    #proshows {
        position: relative; overflow: hidden; perspective: 2000px; 
        padding: 10vh 0; min-height: 100vh;
        background-color: var(--bg-dark);
        background-image: radial-gradient(circle at 50% 50%, #1a2010 0%, var(--bg-dark) 80%);
    }
    .proshow-header { text-align: center; margin-bottom: 60px; position: relative; z-index: 5; pointer-events: none;}
    .glitch-text { 
        font-family: var(--font-fold); font-size: clamp(3rem, 7vw, 7rem); color: #fff; font-weight: 900; 
        text-shadow: 3px 3px var(--accent-olive), -2px -2px var(--accent-green); 
    }
    
    .proshow-container {
        display: flex; justify-content: center; align-items: center; gap: 5vw;
        width: 100%; max-width: 1400px; margin: 0 auto; position: relative; z-index: 5;
    }

    .proshow-card-wrapper { width: 350px; height: 550px; position: relative; perspective: 1500px; }

    .proshow-card {
        width: 100%; height: 100%; position: relative; transform-style: preserve-3d; background: #0a0a0a;
        clip-path: polygon(20px 0, 100% 0, 100% calc(100% - 20px), calc(100% - 20px) 100%, 0 100%, 0 20px);
        box-shadow: 0 0 30px rgba(77, 143, 72, 0.1); transition: transform 0.1s linear; cursor: pointer;
    }

    .card-border {
        position: absolute; inset: 0; z-index: 10; pointer-events: none;
        border: 1px solid rgba(255, 255, 255, 0.2);
        clip-path: polygon(20px 0, 100% 0, 100% calc(100% - 20px), calc(100% - 20px) 100%, 0 100%, 0 20px);
        transform: translateZ(20px);
    }
    .card-border::after { content: ''; position: absolute; bottom: 20px; right: 20px; width: 40px; height: 4px; background: var(--accent-green); }
    .card-border::before { content: ''; position: absolute; top: 20px; left: 20px; width: 4px; height: 40px; background: var(--accent-gold); }

    .proshow-media { position: absolute; inset: 5px; overflow: hidden; transform: translateZ(0px); clip-path: polygon(18px 0, 100% 0, 100% calc(100% - 18px), calc(100% - 18px) 100%, 0 100%, 0 18px); }
    .proshow-img { width: 100%; height: 100%; object-fit: cover; filter: grayscale(100%) contrast(1.1); transition: opacity 0.4s; }
    
    .proshow-content-layer {
        position: absolute; bottom: 0; left: 0; width: 100%; height: 100%; padding: 30px;
        display: flex; flex-direction: column; justify-content: flex-end;
        background: linear-gradient(0deg, rgba(6,6,6,0.95) 15%, transparent 60%);
        transform: translateZ(30px); pointer-events: none;
    }

    .proshow-day { font-family: var(--font-tech); color: var(--accent-green); font-size: 1.1rem; margin-bottom: 5px; }
    .proshow-artist { font-family: var(--font-body); font-size: 3rem; color: #fff; font-weight: 800; text-transform: uppercase; line-height: 0.9; margin-bottom: 5px; text-shadow: 2px 2px 0px #000; }
    .proshow-genre { font-family: var(--font-serif); font-style: italic; color: var(--accent-gold); font-size: 1.2rem; }

    @media (max-width: 900px) {
        .proshow-container { flex-direction: column; gap: 60px; }
        .proshow-card-wrapper { width: 90vw; height: 120vw; max-width: 380px; max-height: 550px; }
    }

    /* --- FOOTER --- */
    .footer-section { background: #020202; border-radius: 50px 50px 0 0; padding: 10vh 0 5vh; text-align: center; border-top: 1px solid var(--bg-panel); }
    .footer-logo { font-family: var(--font-fold); font-size: 15vw; color: transparent; -webkit-text-stroke: 1px #333; line-height: 0.8; opacity: 0.6; transition: 0.5s; }
    .footer-logo:hover { color: var(--accent-olive); opacity: 1; text-shadow: 0 0 30px var(--accent-green); }
    
    /* Utilities */
    .reveal-text { opacity: 0; }
    #status-msg { position: fixed; bottom: 10px; right: 10px; font-size: 10px; color: #333; font-family: monospace; z-index: 1000; }
    
</style>
</head>
<body>

<div id="bg-container">
    <div id="hero-bg-image"></div>
</div>

<canvas id="webgl"></canvas>
<div id="noise-overlay"></div>
<div id="status-msg"></div>

<main id="smooth-wrapper">
    <section id="hero">
        <div class="hero-content">
            <h1 class="hero-title">
                <div><span class="letter">F</span><span class="letter">L</span><span class="letter">A</span><span class="letter">M</span><span class="letter">E</span><span class="letter">S</span><span class="letter"> </span><span class="letter">I</span><span class="letter">N</span><span class="letter"> </span><span class="letter">E</span><span class="letter">V</span><span class="letter">E</span><span class="letter">R</span><span class="letter">Y</span></div>
                <div><span class="letter">F</span><span class="letter">O</span><span class="letter">L</span><span class="letter">D</span></div>
            </h1>
            <h2 class="hero-date"><span class="date-char">M</span><span class="date-char">A</span><span class="date-char">R</span><span class="date-char">C</span><span class="date-char">H</span><span class="date-char"> </span><span class="date-char">1</span><span class="date-char">3</span><span class="date-char"> </span><span class="date-char">-</span><span class="date-char"> </span><span class="date-char">1</span><span class="date-char">5</span></h2>
            
            <div id="countdown" class="hero-countdown">
                <div class="time-block"><span id="days">00</span><span class="label">Days</span></div>
                <div class="time-block"><span id="hours">00</span><span class="label">Hrs</span></div>
                <div class="time-block"><span id="minutes">00</span><span class="label">Min</span></div>
                <div class="time-block"><span id="seconds">00</span><span class="label">Sec</span></div>
            </div>
            
            <div style="margin-top: 5vh; opacity: 0;" class="fade-in-up"><p style="font-family: var(--font-tech); color: #666; font-size: 0.8rem; letter-spacing: 2px;">SCROLL TO INITIATE</p></div>
        </div>
    </section>

    <section id="about-ishya">
        <div class="dialogue-wrapper">
            <div class="chat-question">WHAT IS ISHYA?</div>
            <div class="origami-answer-container">
                <div class="origami-sheet">
                    <div class="sheet-content">
                        <h3>THE ORIGIN</h3>
                        <p><strong>Ishya</strong> is the annual cultural fest of <strong>IISER Thiruvananthapuram</strong> which, since her inception in 2010, has set the stage to nurture imagination and nourish originality. Staying true to her name, Ishya flows with the advent of spring, when life blooms from the earth.</p>
                        <p>We have been flying for the past fifteen years, higher each time, from inspiring minds and blossoming creativity to spreading smiles and instilling hope.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="memories">
        <h2 class="section-title reveal-text" style="font-family: var(--font-display); font-size: 2rem; color: var(--accent-gold); margin-bottom: 20px;">MEMORIES</h2>
        <div class="image-marquee-container">
            <div class="image-marquee-track">
                <!-- Placeholders using low-res images for performance -->
                <div class="image-marquee-item"><img src="https://images.unsplash.com/photo-1492684223066-81342ee5ff30?w=500&q=60" alt="Memory" loading="lazy"></div>
                <div class="image-marquee-item"><img src="https://images.unsplash.com/photo-1470229722913-7c0d2dbbafd3?w=500&q=60" alt="Memory" loading="lazy"></div>
                <div class="image-marquee-item"><img src="https://images.unsplash.com/photo-1501281668745-f7f57925c3b4?w=500&q=60" alt="Memory" loading="lazy"></div>
                <div class="image-marquee-item"><img src="https://images.unsplash.com/photo-1533174072545-e8d4aa97edf9?w=500&q=60" alt="Memory" loading="lazy"></div>
                <div class="image-marquee-item"><img src="https://images.unsplash.com/photo-1514525253440-b393452e8d26?w=500&q=60" alt="Memory" loading="lazy"></div>
                 <div class="image-marquee-item"><img src="https://images.unsplash.com/photo-1492684223066-81342ee5ff30?w=500&q=60" alt="Memory" loading="lazy"></div>
                <div class="image-marquee-item"><img src="https://images.unsplash.com/photo-1470229722913-7c0d2dbbafd3?w=500&q=60" alt="Memory" loading="lazy"></div>
            </div>
        </div>
        <a href="#" class="cta-btn">VIEW GALLERY</a>
    </section>

    <!-- EVENTS SECTION -->
    <section id="events">
        <div style="text-align: center; margin-bottom: 10px; position: relative; z-index: 2;">
            <h2 class="section-title reveal-text" style="font-family: var(--font-fold); font-size: 3rem; color: #fff;">THE <br><em style="color:var(--accent-green)">STAGES</em></h2>
        </div>
        
        <div class="rocket-formation-wrapper">
            <!-- Rocket 1 -->
            <div class="rocket-card" id="rocket-1">
                <div class="flap left"></div><div class="flap right"></div>
                <div class="rocket-content">
                    <img class="rocket-img">
                    <div class="rocket-text">
                        <div><span class="rocket-cat"></span><h3 class="rocket-title"></h3></div>
                        <span class="rocket-id"></span>
                    </div>
                </div>
            </div>
            <!-- Rocket 2 -->
            <div class="rocket-card" id="rocket-2">
                <div class="flap left"></div><div class="flap right"></div>
                <div class="rocket-content">
                    <img class="rocket-img">
                    <div class="rocket-text">
                        <div><span class="rocket-cat"></span><h3 class="rocket-title"></h3></div>
                        <span class="rocket-id"></span>
                    </div>
                </div>
            </div>
            <!-- Rocket 3 -->
            <div class="rocket-card" id="rocket-3">
                <div class="flap left"></div><div class="flap right"></div>
                <div class="rocket-content">
                    <img class="rocket-img">
                    <div class="rocket-text">
                        <div><span class="rocket-cat"></span><h3 class="rocket-title"></h3></div>
                        <span class="rocket-id"></span>
                    </div>
                </div>
            </div>
        </div>
        
        <a href="#" class="cta-btn">VIEW ALL EVENTS</a>
    </section>

    <section id="aftermovie">
        <div class="aftermovie-container" style="width:100%; display:flex; flex-direction:column; align-items:center;">
            <h2 class="section-title reveal-text" style="font-family: var(--font-display); font-size: 2rem;">RELIVE THE <br><em style="color:var(--accent-gold)">MEMORIES</em></h2>
            <div class="video-frame-wrapper">
                <div class="video-frame-aspect">
                    <!-- Lazy load iframe logic can be added here, currently placeholder -->
                    <div style="width:100%; height:100%; background: #000; display:flex; align-items:center; justify-content:center; color:#555;">VIDEO PLACEHOLDER</div>
                </div>
            </div>
            <p style="margin-top: 20px; font-family: var(--font-serif); color: #888; font-style: italic;">"A glimpse into the fire of yesteryears"</p>
        </div>
    </section>

    <section id="proshows">
        <div class="proshow-header">
            <h2 class="glitch-text">PROSHOWS</h2>
            <p style="font-family: var(--font-tech); letter-spacing: 4px; color: var(--accent-green); margin-top: 10px;">THE HEADLINERS</p>
        </div>
        
        <div class="proshow-container">
            <!-- Card 1 -->
            <div class="proshow-card-wrapper" id="proshow-wrapper-1">
                <div class="proshow-card" id="proshow-1">
                    <div class="card-border"></div>
                    <div class="proshow-media">
                        <img src="https://images.unsplash.com/photo-1516450360452-9312f5e86fc7?q=80&w=1920&auto=format&fit=crop" class="proshow-img" alt="Artist 1" loading="lazy">
                    </div>
                    <div class="proshow-content-layer">
                        <div class="proshow-day">DAY 01</div>
                        <h3 class="proshow-artist">MASALA<br>COFFEE</h3>
                        <div class="proshow-genre">FOLK ROCK</div>
                    </div>
                </div>
            </div>

            <!-- Card 2 -->
            <div class="proshow-card-wrapper" id="proshow-wrapper-2">
                <div class="proshow-card" id="proshow-2">
                    <div class="card-border"></div>
                    <div class="proshow-media">
                        <img src="https://images.unsplash.com/photo-1493225255756-d9584f8606e9?q=80&w=1920&auto=format&fit=crop" class="proshow-img" alt="Artist 2" loading="lazy">
                    </div>
                    <div class="proshow-content-layer">
                        <div class="proshow-day">DAY 02</div>
                        <h3 class="proshow-artist">JONITA<br>GANDHI</h3>
                        <div class="proshow-genre">BOLLYWOOD POP</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="footer-section">
        <div class="footer-content">
            <p style="font-family: var(--font-serif); margin-bottom: 20px; color: #888;">IISER THIRUVANANTHAPURAM</p>
            <h2 class="footer-logo">ISHYA</h2>
            <div style="margin-top: 30px; display: flex; justify-content: center; gap: 30px;">
                <a href="#" style="color: #444;"><i class="fa-brands fa-instagram fa-xl"></i></a><a href="#" style="color: #444;"><i class="fa-brands fa-twitter fa-xl"></i></a><a href="#" style="color: #444;"><i class="fa-brands fa-youtube fa-xl"></i></a>
            </div>
            <p style="color: #333; margin-top: 30px; font-size: 0.7rem; font-family: var(--font-tech);">Â© 2026 ISHYA. FLAMES IN EVERY FOLD.</p>
        </div>
    </footer>
</main>

<script type="x-shader/x-vertex" id="vParticles">
    attribute float aRandom; attribute vec3 targetPos; uniform float uTime; uniform float uProgress; uniform float uExplode; uniform float uParticleOpacity; varying vec3 vColor; varying float vOpacity;
    vec3 mod289(vec3 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; } vec2 mod289(vec2 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; } vec3 permute(vec3 x) { return mod289(((x*34.0)+1.0)*x); }
    float snoise(vec2 v) { const vec4 C = vec4(0.211324865405187, 0.366025403784439, -0.577350269189626, 0.024390243902439); vec2 i  = floor(v + dot(v, C.yy) ); vec2 x0 = v - i + dot(i, C.xx); vec2 i1; i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0); vec4 x12 = x0.xyxy + C.xxzz; x12.xy -= i1; i = mod289(i); vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 )) + i.x + vec3(0.0, i1.x, 1.0 )); vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0); m = m*m; m = m*m; vec3 x = 2.0 * fract(p * C.www) - 1.0; vec3 h = abs(x) - 0.5; vec3 ox = floor(x + 0.5); vec3 a0 = x - ox; m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h ); vec3 g; g.x  = a0.x  * x0.x  + h.x  * x0.y; g.yz = a0.yz * x12.xz + h.yz * x12.yw; return 130.0 * dot(m, g); }
    void main() { 
        vec3 firePos = position; 
        float t = uTime * 1.0; 
        float noise = snoise(vec2(firePos.x * 0.5, t + firePos.y * 0.2)); 
        firePos.y += mod(t * (3.0 + aRandom), 18.0); 
        if(firePos.y > 7.0) firePos.y -= 18.0; 
        firePos.x += noise * 1.5 * (0.5 + firePos.y * 0.1); 
        float progress = smoothstep(0.0, 1.0, uProgress); 
        vec3 pos = mix(firePos, targetPos, progress); 
        // UPDATED COLORS: Olive/Green Fire
        vec3 cFire = mix(vec3(0.24, 0.26, 0.14), vec3(0.3, 0.56, 0.28), aRandom); 
        vec3 cLogo = mix(vec3(0.9, 0.9, 0.9), vec3(0.84, 0.76, 0.41), aRandom); // Gold/White
        vColor = mix(cFire, cLogo, progress); 
        if(uExplode > 0.0) { pos += normalize(pos) * uExplode * 60.0; vColor *= (1.0 - uExplode); } 
        vOpacity = uParticleOpacity; 
        vec4 mvPosition = modelViewMatrix * vec4(pos, 1.0); 
        gl_Position = projectionMatrix * mvPosition; 
        gl_PointSize = (4.0 + aRandom * 3.0) * (20.0 / -mvPosition.z); 
    }
</script>
<script type="x-shader/x-fragment" id="fParticles">
    varying vec3 vColor; varying float vOpacity;
    void main() { if(length(gl_PointCoord - vec2(0.5)) > 0.5) discard; float alpha = (1.0 - smoothstep(0.4, 0.5, length(gl_PointCoord - vec2(0.5)))) * vOpacity; gl_FragColor = vec4(vColor, alpha); }
</script>

<script type="module">
    import * as THREE from 'https://cdn.skypack.dev/three@0.136.0';
    import { EffectComposer } from 'https://cdn.skypack.dev/three@0.136.0/examples/jsm/postprocessing/EffectComposer.js';
    import { RenderPass } from 'https://cdn.skypack.dev/three@0.136.0/examples/jsm/postprocessing/RenderPass.js';
    import { UnrealBloomPass } from 'https://cdn.skypack.dev/three@0.136.0/examples/jsm/postprocessing/UnrealBloomPass.js';
    import gsap from 'https://cdn.skypack.dev/gsap@3.12.2';
    import ScrollTrigger from 'https://cdn.skypack.dev/gsap@3.12.2/ScrollTrigger';
    import Lenis from 'https://cdn.skypack.dev/@studio-freight/lenis@1.0.29';

    gsap.registerPlugin(ScrollTrigger);

    // --- MOBILE OPTIMIZATION DETECTION ---
    const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || window.innerWidth < 800;

    const CONFIG = { 
        NEW_LOGO_PATH: 'logo.png', // Fallback behavior included if missing
        // HEAVY OPTIMIZATION FOR MOBILE
        PARTICLE_DENSITY: isMobile ? 8 : 4, // Higher = fewer particles (4px step vs 8px step)
        LOGO_SCALE: isMobile ? 8 : 12, 
        LOGO_Y_OFFSET: 1.8, 
        ANIMATION: { fireDuration: 4.0, revealContentDelay: 1.0 }, 
        // Disable bloom strength on mobile for fps
        BLOOM: { strength: isMobile ? 0 : 0.3, radius: 0.4, threshold: 0.85 } 
    };

    const canvas = document.getElementById('webgl'); 
    const renderer = new THREE.WebGLRenderer({ canvas, antialias: !isMobile, alpha: true, powerPreference: "high-performance" }); 
    renderer.setSize(window.innerWidth, window.innerHeight); 
    // Limit pixel ratio on mobile
    renderer.setPixelRatio(isMobile ? 1 : Math.min(window.devicePixelRatio, 2)); 
    
    const scene = new THREE.Scene(); 
    const camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 100); 
    camera.position.set(0, 0, 16); 
    
    const clock = new THREE.Clock(); 
    const textureLoader = new THREE.TextureLoader(); 
    const statusMsg = document.getElementById('status-msg');

    // Fallback logic if logo.png is missing, creates a simple square shape
    function generateFallbackLogoData() {
        const points = [];
        const count = 1000; 
        for(let i=0; i<count; i++) {
            points.push((Math.random()-0.5)*5, (Math.random()-0.5)*5 + 1.8, 0);
        }
        return new Float32Array(points);
    }

    function loadTexture(url) { return new Promise((resolve, reject) => { textureLoader.load(url, resolve, undefined, () => resolve(null)); }); }
    
    function loadAndProcessLogo(url) { 
        return new Promise((resolve) => { 
            const img = new Image(); 
            img.crossOrigin = "Anonymous"; 
            img.src = url; 
            img.onload = () => { 
                const w = 300; // Reduced resolution for processing
                const h = 300; 
                const c = document.createElement('canvas'); 
                c.width = w; c.height = h; 
                const ctx = c.getContext('2d'); 
                ctx.drawImage(img, 0, 0, w, h); 
                const pixels = ctx.getImageData(0,0,w,h).data; 
                const points = []; 
                for (let y = 0; y < h; y += CONFIG.PARTICLE_DENSITY) { 
                    for (let x = 0; x < w; x += CONFIG.PARTICLE_DENSITY) { 
                        if (pixels[(y * w + x) * 4 + 3] > 128) { 
                            points.push( (x / w - 0.5) * CONFIG.LOGO_SCALE, (-(y / h - 0.5) * CONFIG.LOGO_SCALE) + CONFIG.LOGO_Y_OFFSET, 0 ); 
                        } 
                    } 
                } 
                resolve(new Float32Array(points)); 
            }; 
            img.onerror = () => {
                console.warn("logo.png not found, using fallback particles");
                resolve(generateFallbackLogoData());
            }; 
        }); 
    }
    
    let birdMaterial;

    Promise.all([loadAndProcessLogo(CONFIG.NEW_LOGO_PATH), loadTexture(CONFIG.NEW_LOGO_PATH)]).then(([newLogoData, newLogoTexture]) => { 
        initSystem(newLogoData, newLogoTexture); 
    });

    function initSystem(newLogoData, newLogoTexture) {
        statusMsg.style.display = 'none';
        const particles = createParticles(newLogoData.length / 3, newLogoData);
        // Only create solid logo if texture loaded
        const solidLogoNew = newLogoTexture ? createSolidLogo(newLogoTexture) : { material: { opacity: 0 }}; 
        const bird = createBird();
        setupLights();
        
        // Conditional Post Processing
        let composer = null;
        if (!isMobile) {
            const pp = createPostProcessing();
            composer = pp.composer;
        }

        setupAnimations(particles, solidLogoNew, bird);
        setupEventListeners();
        setupInteractiveElements();
        initRocketFormation(); 

        const animate = () => { 
            const t = clock.getElapsedTime(); 
            particles.material.uniforms.uTime.value = t; 
            if (bird.group.visible) { 
                const flap = Math.sin(t * 8); 
                bird.wingL.rotation.z = flap * 0.4 + 0.1; 
                bird.wingR.rotation.z = -flap * 0.4 - 0.1; 
                bird.group.position.y += Math.sin(t * 4) * 0.005; 
            } 
            
            if (composer) composer.render();
            else renderer.render(scene, camera);
            
            requestAnimationFrame(animate); 
        };
        animate();
    }

    function createParticles(count, targetData) { 
        const pGeo = new THREE.BufferGeometry(); 
        const initialPosArr = new Float32Array(count * 3); 
        const randArr = new Float32Array(count); 
        for (let i = 0; i < count; i++) { 
            initialPosArr[i * 3] = (Math.random() - 0.5) * 4; 
            initialPosArr[i * 3 + 1] = -8 + (Math.random() * 4); 
            initialPosArr[i * 3 + 2] = (Math.random() - 0.5) * 4; 
            randArr[i]=Math.random(); 
        } 
        pGeo.setAttribute('position', new THREE.BufferAttribute(initialPosArr, 3)); 
        pGeo.setAttribute('targetPos', new THREE.BufferAttribute(targetData, 3)); 
        pGeo.setAttribute('aRandom', new THREE.BufferAttribute(randArr, 1)); 
        const pMat = new THREE.ShaderMaterial({ 
            vertexShader: document.getElementById('vParticles').textContent, 
            fragmentShader: document.getElementById('fParticles').textContent, 
            uniforms: { uTime: { value: 0 }, uProgress: { value: 0 }, uExplode: { value: 0 }, uParticleOpacity: { value: 1.0 } }, 
            transparent: true, blending: THREE.AdditiveBlending, depthWrite: false 
        }); 
        const particleSystem = new THREE.Points(pGeo, pMat); 
        scene.add(particleSystem); 
        return particleSystem; 
    }

    function createSolidLogo(texture) { 
        const material = new THREE.MeshBasicMaterial({ map: texture, transparent: true, opacity: 0 }); 
        const logoMesh = new THREE.Mesh(new THREE.PlaneGeometry(10, 10), material); 
        logoMesh.position.set(0, CONFIG.LOGO_Y_OFFSET, 0.1); 
        scene.add(logoMesh); 
        return logoMesh; 
    }

    function createBird() {
        birdMaterial = new THREE.MeshStandardMaterial({ color: 0xbbbbbb, roughness: 1.0, metalness: 0.0, side: THREE.DoubleSide });
        const group = new THREE.Group(); group.visible = false; scene.add(group);
        // Simplified geometry for speed
        const vBody=[0,0,1,1,0,0,0,0,-1,0,0,1,0,0,-1,-1,0,0,0,0.8,-0.2,0,0,1,1,0,0,0,0.8,-0.2,-1,0,0,0,0,1,0,0.8,-0.2,1,0,0,0,0,-1,0,0.8,-0.2,0,0,-1,-1,0,0,0,0,1,0.15,0,0.8,0,2.5,2.0,0,0,1,0,2.5,2.0,-0.15,0,0.8,0,2.5,2.0,0.1,2.2,2.0,0,1.8,2.5,0,2.5,2.0,0,1.8,2.5,-0.1,2.2,2.0,0,0,-1,0.15,0,-0.8,0,2.0,-2.5,0,0,-1,0,2.0,-2.5,-0.15,0,-0.8];
        const bGeo=new THREE.BufferGeometry(); bGeo.setAttribute('position', new THREE.Float32BufferAttribute(vBody,3)); bGeo.computeVertexNormals();
        group.add(new THREE.Mesh(bGeo, birdMaterial));
        const vWing=[0,0,0.8,0,0,-0.8,3.5,1.5,0,0,0,0.8,3.5,1.5,0,0,0.8,-0.2];
        const wGeo=new THREE.BufferGeometry(); wGeo.setAttribute('position', new THREE.Float32BufferAttribute(vWing,3)); wGeo.computeVertexNormals();
        const wingL=new THREE.Mesh(wGeo, birdMaterial); wingL.position.set(-0.9,0,0); wingL.scale.x=-1; 
        const wingR=new THREE.Mesh(wGeo, birdMaterial); wingR.position.set(0.9,0,0);
        group.add(wingL, wingR); group.rotation.x=0.2;
        return { group, wingL, wingR };
    }

    function setupLights() { scene.add(new THREE.AmbientLight(0xffffff, 0.4)); const spot = new THREE.SpotLight(0xffffff, 1.5); spot.position.set(5, 10, 5); scene.add(spot); }
    
    function createPostProcessing() { 
        const composer = new EffectComposer(renderer); 
        composer.addPass(new RenderPass(scene, camera)); 
        const bloom = new UnrealBloomPass(new THREE.Vector2(window.innerWidth, window.innerHeight), 1.5, 0.4, 0.95); 
        bloom.strength = CONFIG.BLOOM.strength; bloom.radius = CONFIG.BLOOM.radius; bloom.threshold = CONFIG.BLOOM.threshold; 
        composer.addPass(bloom); 
        return { composer, bloom }; 
    }

    function setupAnimations(particles, solidLogoNew, bird) {
        const pMat = particles.material; const newMat = solidLogoNew.material; const A = CONFIG.ANIMATION;
        
        const introTl = gsap.timeline({delay: 0.5, onComplete: () => {gsap.to(".hero-countdown", {opacity:1, duration:1})} });
        introTl.to(pMat.uniforms.uProgress, { value: 1.0, duration: A.fireDuration, ease: "power2.inOut" })
               .to(newMat, { opacity: 1, duration: 1.5, ease: "power2.in" }, `-=1.5`)
               .to(pMat.uniforms.uParticleOpacity, { value: 0, duration: 1.5 }, "<")
               .to('main', { opacity: 1, duration: 1 }, `<-=${A.revealContentDelay}`)
               .fromTo(gsap.utils.toArray('.hero-title .letter'), { opacity: 0, rotationX: -95, scaleY: 0, transformOrigin: "50% 100%" }, { opacity: 1, rotationX: 0, scaleY: 1, duration: 1.5, ease: "elastic.out(1, 0.6)", stagger: 0.04 }, "<+0.2")
               .fromTo(gsap.utils.toArray('.hero-date .date-char'), { opacity: 0, rotationX: 95, scaleY: 0, transformOrigin: "50% 0%" }, { opacity: 1, rotationX: 0, scaleY: 1, duration: 1.2, ease: "back.out(1.7)", stagger: 0.03 }, "<+0.1")
               .to('.fade-in-up', { opacity: 1, y: 0, duration: 1 }, "-=1");
        
        gsap.utils.toArray('.reveal-text').forEach(section => { 
            gsap.fromTo(section, { y: 30, opacity: 0 }, { y: 0, opacity: 1, duration: 1, ease: 'power3.out', scrollTrigger: { trigger: section, start: 'top 85%' } }); 
        });
        
        const heroTl = gsap.timeline({ scrollTrigger: { trigger: "#hero", start: "top top", end: "bottom top", scrub: 1 }});
        heroTl.to(newMat, { opacity: 0, duration: 0.1 })
              .to("#hero-bg-image", { opacity: 0, duration: 0.5 }, "<")
              .to(pMat.uniforms.uParticleOpacity, { value: 1.0, duration: 0.1 }, "<")
              .to(pMat.uniforms.uExplode, { value: 1, duration: 1 })
              .call(() => { bird.group.visible = true; }, null, "<0.2")
              .fromTo(bird.group.scale, {x:0, y:0, z:0}, {x:1, y:1, z:1, duration: 0.8}, "<");
        
        const aboutTl = gsap.timeline({ scrollTrigger: { trigger: "#about-ishya", start: "top 70%", toggleActions: "play none none reverse" }});
        aboutTl.to(".chat-question", { opacity: 1, y: 0, duration: 0.5, ease: "back.out(1.7)" })
               .fromTo(".origami-sheet", { rotateX: -90, opacity: 0 }, { rotateX: 0, opacity: 1, duration: 1.5, ease: "expo.out" }, ">-0.2");

        const lookAtTl = gsap.timeline({ scrollTrigger: { trigger: "#about-ishya", start: "top bottom", end: "bottom top", scrub: 1 }});
        lookAtTl.to(bird.group.position, { x: isMobile? 0 : 4.5, y: -2, z: 1 }).to(bird.group.rotation, { y: 0.8, x: 0.2 }, "<");
        
        const eventsTl = gsap.timeline({ scrollTrigger: { trigger: "#events", start: "top bottom", end: "bottom top", scrub: 1.5 }});
        eventsTl.to(bird.group.position, { x: isMobile? 0 : -3.5, y: 3, z: -2 }).to(bird.group.rotation, { y: -0.5, x: 0.1 }, "<");
        
        ScrollTrigger.create({ trigger: "#aftermovie", start: "top 70%", onEnter: () => { gsap.fromTo(".video-frame-wrapper", { scale: 0.8, opacity: 0 }, { scale: 1, opacity: 1, duration: 1.2, ease: "expo.out" } ); } });

        const proshowBirdTl = gsap.timeline({ scrollTrigger: { trigger: "#proshows", start: "top bottom", end: "bottom top", scrub: 1.5, onUpdate: (self) => { bird.group.position.y = 1 + Math.sin(self.progress * Math.PI * 4) * 2; } }});
        proshowBirdTl.to(bird.group.position, { z: -4, x: 0 })
                     .to(birdMaterial.color, { r:77/255, g:143/255, b:72/255 }, "<") // Change to green
                     .to(bird.group.scale, { x: 0.5, y: 0.5, z: 0.5}, "<");

        // HEAVY ENTRANCE FOR PROSHOWS (Simplified on mobile)
        const proshowTl = gsap.timeline({ scrollTrigger: { trigger: "#proshows", start: "top 60%", end: "top 10%", scrub: 1 }});
        
        if(!isMobile) {
            proshowTl.fromTo("#proshow-wrapper-1", { z: -800, x: -200, rotationY: -90, opacity: 0 }, { z: 0, x: 0, rotationY: 0, opacity: 1, ease: "power2.out" }, 0);
            proshowTl.fromTo("#proshow-wrapper-2", { z: -800, x: 200, rotationY: 90, opacity: 0 }, { z: 0, x: 0, rotationY: 0, opacity: 1, ease: "power2.out" }, 0.1 );
        } else {
             proshowTl.fromTo(".proshow-card-wrapper", { y: 100, opacity: 0 }, { y: 0, opacity: 1, stagger: 0.2 }, 0);
        }
    }

    /* --- EVENTS LOGIC (Responsive) --- */
    function initRocketFormation() {
        const eventsData = [ { id: '01', title: 'MUDHRA', cat: 'Classical', img: 'https://images.unsplash.com/photo-1543857778-c4a1a3e0b2eb?w=500&q=80' }, { id: '02', title: 'RHAPSODY', cat: 'Band', img: 'https://images.unsplash.com/photo-1501612780327-45045538702b?w=500&q=80' }, { id: '03', title: 'PANACHE', cat: 'Fashion', img: 'https://images.unsplash.com/photo-1509631179647-0177331693ae?w=500&q=80' }, { id: '04', title: 'EUPHONY', cat: 'Singing', img: 'https://images.unsplash.com/photo-1516280440614-6697288d5d38?w=500&q=80' }, { id: '05', title: 'STEP UP', cat: 'Dance', img: 'https://images.unsplash.com/photo-1508700115892-45ecd05ae2ad?w=500&q=80' }, { id: '06', title: 'ABHINAYA', cat: 'Drama', img: 'https://images.unsplash.com/photo-1533561052604-c3beb6d55760?w=500&q=80' } ];
        
        let currentIndex = 0;
        const rockets = [ document.getElementById('rocket-1'), document.getElementById('rocket-2'), document.getElementById('rocket-3') ];
        
        function updateRocketContent(element, data) {
            if(!data) return; 
            element.querySelector('.rocket-img').src = data.img;
            element.querySelector('.rocket-title').innerText = data.title;
            element.querySelector('.rocket-cat').innerHTML = `<i class="fa-solid fa-star"></i> ${data.cat}`;
            element.querySelector('.rocket-id').innerText = data.id;
        }

        function playFormationCycle() {
            updateRocketContent(rockets[0], eventsData[currentIndex]);
            updateRocketContent(rockets[1], eventsData[(currentIndex + 1) % eventsData.length]);
            updateRocketContent(rockets[2], eventsData[(currentIndex + 2) % eventsData.length]);

            const tl = gsap.timeline({ onComplete: () => { currentIndex = (currentIndex + 3) % eventsData.length; playFormationCycle(); } });
            
            // If Mobile: Simple Fade In/Out cycle, no complex 3D transforms
            if(isMobile) {
                tl.fromTo(rockets, { opacity: 0, y: 50 }, { opacity: 1, y: 0, duration: 1, stagger: 0.2 })
                  .to({}, { duration: 3 })
                  .to(rockets, { opacity: 0, y: -50, duration: 0.5 });
                return;
            }

            // Desktop Complex Animation
            const flapsLeft = rockets.map(r => r.querySelector('.flap.left'));
            const flapsRight = rockets.map(r => r.querySelector('.flap.right'));
            const contents = rockets.map(r => r.querySelector('.rocket-content'));

            tl.set(rockets, { opacity: 1, z: -800, rotationY: 0, scale: 0.5 })
              .set(rockets[0], { x: '-50vw', y: '-80vh', rotation: 160 }).set(rockets[1], { x: '0vw', y: '-80vh', rotation: 180 }).set(rockets[2], { x: '50vw', y: '-80vh', rotation: -160 })
              .set([...flapsLeft, ...flapsRight], { rotationY: 0 })
              .set(flapsLeft, { rotationY: 88 }).set(flapsRight, { rotationY: -88 })
              .set(contents, { opacity: 0 });

            tl.to(rockets, { x: 0, y: 0, z: 0, rotation: 0, scale: 1, duration: 1.8, ease: "power4.out", stagger: 0.1 });
            tl.to(rockets, { rotation: -3, duration: 0.1, yoyo: true, repeat: 1, stagger: 0.05 }).to(rockets, { rotation: 0, duration: 0.1 });
            tl.to([...flapsLeft, ...flapsRight], { rotationY: 0, duration: 0.8, ease: "back.out(1.2)" }, "+=0.1").to(contents, { opacity: 1, duration: 0.5 }, "<0.3");
            tl.to({}, { duration: 4 });
            tl.to(contents, { opacity: 0, duration: 0.3 }).to(flapsLeft, { rotationY: 88, duration: 0.5, ease: "power2.in" }, "<").to(flapsRight, { rotationY: -88, duration: 0.5, ease: "power2.in" }, "<").to(rockets, { x: '-40vw', y: '60vh', z: -200, rotation: -45, opacity: 0, duration: 1.2, ease: "power2.in", stagger: 0.05 });
        }
        playFormationCycle();
    }

    function setupInteractiveElements() {
        // --- UPDATED DATE: March 13, 2026 ---
        const targetDate = new Date("March 13, 2026 00:00:00").getTime();
        
        const countdownInterval = setInterval(() => {
            const now = new Date().getTime(); const distance = targetDate - now; if (distance < 0) { clearInterval(countdownInterval); return; }
            document.getElementById('days').innerText = Math.floor(distance / (1000 * 60 * 60 * 24)).toString().padStart(2, '0');
            document.getElementById('hours').innerText = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)).toString().padStart(2, '0');
            document.getElementById('minutes').innerText = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60)).toString().padStart(2, '0');
            document.getElementById('seconds').innerText = Math.floor((distance % (1000 * 60)) / 1000).toString().padStart(2, '0');
        }, 1000);

        // 3D Tilt - Disable on touch devices
        if (!isMobile) {
            const cards = document.querySelectorAll('.proshow-card');
            cards.forEach(card => {
                card.addEventListener('mousemove', (e) => {
                    const rect = card.getBoundingClientRect();
                    const x = e.clientX - rect.left; const y = e.clientY - rect.top;
                    const centerX = rect.width / 2; const centerY = rect.height / 2;
                    const rotateX = ((y - centerY) / centerY) * -15; 
                    const rotateY = ((x - centerX) / centerX) * 15;
                    card.style.transform = `rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(1.05)`;
                });
                card.addEventListener('mouseleave', () => { card.style.transform = `rotateX(0) rotateY(0) scale(1)`; });
            });
        }
    }

    function setupEventListeners() {
        // Smooth Scroll with Lenis
        const lenis = new Lenis({ lerp: 0.1, smooth: true });
        function raf(time) { lenis.raf(time); requestAnimationFrame(raf); }
        requestAnimationFrame(raf);
        
        // Debounced Resize
        let resizeTimeout;
        window.addEventListener('resize', () => { 
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(() => {
                 camera.aspect = window.innerWidth / window.innerHeight; camera.updateProjectionMatrix(); 
                 renderer.setSize(window.innerWidth, window.innerHeight); 
            }, 100);
        });
    }
</script>   
</body>
</html>
